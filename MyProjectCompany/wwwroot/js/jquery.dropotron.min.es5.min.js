"use strict";console.log("Before Dropotron:",typeof jQuery,typeof $.fn.dropotron);!function(n){n.fn.disableSelection_dropotron=function(){return n(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")};n.fn.dropotron=function(t){if(0==this.length)return n(this);if(this.length>1)for(var i=0;i<this.length;i++)n(this[i]).dropotron(t);return n.dropotron(n.extend({selectorParent:n(this)},t))};n.dropotron=function(t){var i=n.extend({selectorParent:null,baseZIndex:1e3,menuClass:"dropotron",expandMode:"hover",hoverDelay:150,hideDelay:250,openerClass:"opener",openerActiveClass:"active",submenuClassPrefix:"level-",mode:"fade",speed:"fast",easing:"swing",alignment:"left",offsetX:0,offsetY:0,globalOffsetY:0,IEOffsetX:0,IEOffsetY:0,noOpenerFade:!0,detach:!0,cloneOnDetach:!0},t),u=i.selectorParent,f=u.find("ul"),h=n("body"),c=n("body,html"),e=n(window),r=!1,s=null,o=null;u.on("doCollapseAll",function(){f.trigger("doCollapse")});f.each(function(){var t=n(this),u=t.parent();i.hideDelay>0&&t.add(u).on("mouseleave",function(){window.clearTimeout(o);o=window.setTimeout(function(){t.trigger("doCollapse")},i.hideDelay)});t.disableSelection_dropotron().hide().addClass(i.menuClass).css("position","absolute").on("mouseenter",function(){window.clearTimeout(o)}).on("doExpand",function(){var a;if(t.is(":visible"))return!1;window.clearTimeout(o);f.each(function(){var t=n(this);n.contains(t.get(0),u.get(0))||t.trigger("doCollapse")});var h,l,s,v,b=u.offset(),y=u.position(),p=(u.parent().position(),u.outerWidth()),c=t.outerWidth(),w=t.css("z-index")==i.baseZIndex;if(w){switch(h=i.detach?b:y,v=h.top+u.outerHeight()+i.globalOffsetY,l=i.alignment,t.removeClass("left").removeClass("right").removeClass("center"),i.alignment){case"right":s=h.left-c+p;0>s&&(s=h.left,l="left");break;case"center":s=h.left-Math.floor((c-p)/2);0>s?(s=h.left,l="left"):s+c>e.width()&&(s=h.left-c+p,l="right");break;case"left":default:s=h.left;s+c>e.width()&&(s=h.left-c+p,l="right")}t.addClass(l)}else switch("relative"==u.css("position")||"absolute"==u.css("position")?(v=i.offsetY,s=-1*y.left):(v=y.top+i.offsetY,s=0),i.alignment){case"right":s+=-1*u.parent().outerWidth()+i.offsetX;break;case"center":case"left":default:s+=u.parent().outerWidth()+i.offsetX}navigator.userAgent.match(/MSIE ([0-9]+)\./)&&RegExp.$1<8&&(s+=i.IEOffsetX,v+=i.IEOffsetY);t.css("left",s+"px").css("top",v+"px").css("opacity","0.01").show();a=!1;switch(s="relative"==u.css("position")||"absolute"==u.css("position")?-1*y.left:0,t.offset().left<0?(s+=u.parent().outerWidth()-i.offsetX,a=!0):t.offset().left+c>e.width()&&(s+=-1*u.parent().outerWidth()-i.offsetX,a=!0),a&&t.css("left",s+"px"),t.hide().css("opacity","1"),i.mode){case"zoom":r=!0;u.addClass(i.openerActiveClass);t.animate({width:"toggle",height:"toggle"},i.speed,i.easing,function(){r=!1});break;case"slide":r=!0;u.addClass(i.openerActiveClass);t.animate({height:"toggle"},i.speed,i.easing,function(){r=!1});break;case"fade":(r=!0,w&&!i.noOpenerFade)?(a="slow"==i.speed?80:"fast"==i.speed?40:Math.floor(i.speed/2),u.fadeTo(a,.01,function(){u.addClass(i.openerActiveClass);u.fadeTo(i.speed,1);t.fadeIn(i.speed,function(){r=!1})})):(u.addClass(i.openerActiveClass),u.fadeTo(i.speed,1),t.fadeIn(i.speed,function(){r=!1}));break;case"instant":default:u.addClass(i.openerActiveClass);t.show()}return!1}).on("doCollapse",function(){return t.is(":visible")?(t.hide(),u.removeClass(i.openerActiveClass),t.find("."+i.openerActiveClass).removeClass(i.openerActiveClass),t.find("ul").hide(),!1):!1}).on("doToggle",function(){return t.is(":visible")?t.trigger("doCollapse"):t.trigger("doExpand"),!1});u.disableSelection_dropotron().addClass("opener").css("cursor","pointer").on("click touchend",function(n){r||(n.preventDefault(),n.stopPropagation(),t.trigger("doToggle"))});"hover"==i.expandMode&&u.hover(function(){r||(s=window.setTimeout(function(){t.trigger("doExpand")},i.hoverDelay))},function(){window.clearTimeout(s)})});f.find("a").css("display","block").on("click touchend",function(t){r||n(this).attr("href").length<1&&t.preventDefault()});u.find("li").css("white-space","nowrap").each(function(){var t=n(this),i=t.children("a"),e=t.children("ul"),f=i.attr("href");i.on("click touchend",function(n){0==f.length||"#"==f?n.preventDefault():n.stopPropagation()});i.length>0&&0==e.length&&t.on("click touchend",function(n){r||(u.trigger("doCollapseAll"),n.stopPropagation())})});u.children("li").each(function(){var u,e=n(this),t=e.children("ul");if(t.length>0){i.detach&&(i.cloneOnDetach&&(u=t.clone(),u.attr("class","").hide().appendTo(t.parent())),t.detach().appendTo(h));for(var f=i.baseZIndex,o=1,r=t;r.length>0;o++)r.css("z-index",f++),i.submenuClassPrefix&&r.addClass(i.submenuClassPrefix+(f-1-i.baseZIndex)),r=r.find("> li > ul")}});e.on("scroll",function(){u.trigger("doCollapseAll")}).on("keypress",function(n){r||27!=n.keyCode||(n.preventDefault(),u.trigger("doCollapseAll"))});c.on("click touchend",function(){r||u.trigger("doCollapseAll")})}}(jQuery);console.log("After Dropotron:",typeof $.fn.dropotron);